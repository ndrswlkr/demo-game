(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function e(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerPolicy&&(r.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?r.credentials="include":n.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(n){if(n.ep)return;n.ep=!0;const r=e(n);fetch(n.href,r)}})();const kt=(i,t)=>i===t,Ct=Symbol("solid-track"),tt={equals:kt};let mt=bt;const F=1,et=2,yt={owned:null,cleanups:null,context:null,owner:null};var w=null;let at=null,It=null,p=null,v=null,k=null,ot=0;function Q(i,t){const e=p,s=w,n=i.length===0,r=t===void 0?s:t,l=n?yt:{owned:null,cleanups:null,context:r?r.context:null,owner:r},a=n?i:()=>i(()=>C(()=>lt(l)));w=l,p=null;try{return U(a,!0)}finally{p=e,w=s}}function j(i,t){t=t?Object.assign({},tt,t):tt;const e={value:i,observers:null,observerSlots:null,comparator:t.equals||void 0},s=n=>(typeof n=="function"&&(n=n(e.value)),xt(e,n));return[vt.bind(e),s]}function it(i,t,e){const s=ft(i,t,!1,F);K(s)}function Ft(i,t,e){mt=Tt;const s=ft(i,t,!1,F);(!e||!e.render)&&(s.user=!0),k?k.push(s):K(s)}function E(i,t,e){e=e?Object.assign({},tt,e):tt;const s=ft(i,t,!0,0);return s.observers=null,s.observerSlots=null,s.comparator=e.equals||void 0,K(s),vt.bind(s)}function C(i){if(p===null)return i();const t=p;p=null;try{return i()}finally{p=t}}function T(i){Ft(()=>C(i))}function N(i){return w===null||(w.cleanups===null?w.cleanups=[i]:w.cleanups.push(i)),i}function vt(){if(this.sources&&this.state)if(this.state===F)K(this);else{const i=v;v=null,U(()=>nt(this),!1),v=i}if(p){const i=this.observers?this.observers.length:0;p.sources?(p.sources.push(this),p.sourceSlots.push(i)):(p.sources=[this],p.sourceSlots=[i]),this.observers?(this.observers.push(p),this.observerSlots.push(p.sources.length-1)):(this.observers=[p],this.observerSlots=[p.sources.length-1])}return this.value}function xt(i,t,e){let s=i.value;return(!i.comparator||!i.comparator(s,t))&&(i.value=t,i.observers&&i.observers.length&&U(()=>{for(let n=0;n<i.observers.length;n+=1){const r=i.observers[n],l=at&&at.running;l&&at.disposed.has(r),(l?!r.tState:!r.state)&&(r.pure?v.push(r):k.push(r),r.observers&&Mt(r)),l||(r.state=F)}if(v.length>1e6)throw v=[],new Error},!1)),t}function K(i){if(!i.fn)return;lt(i);const t=ot;Lt(i,i.value,t)}function Lt(i,t,e){let s;const n=w,r=p;p=w=i;try{s=i.fn(t)}catch(l){return i.pure&&(i.state=F,i.owned&&i.owned.forEach(lt),i.owned=null),i.updatedAt=e+1,St(l)}finally{p=r,w=n}(!i.updatedAt||i.updatedAt<=e)&&(i.updatedAt!=null&&"observers"in i?xt(i,s):i.value=s,i.updatedAt=e)}function ft(i,t,e,s=F,n){const r={fn:i,state:s,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:w,context:w?w.context:null,pure:e};return w===null||w!==yt&&(w.owned?w.owned.push(r):w.owned=[r]),r}function st(i){if(i.state===0)return;if(i.state===et)return nt(i);if(i.suspense&&C(i.suspense.inFallback))return i.suspense.effects.push(i);const t=[i];for(;(i=i.owner)&&(!i.updatedAt||i.updatedAt<ot);)i.state&&t.push(i);for(let e=t.length-1;e>=0;e--)if(i=t[e],i.state===F)K(i);else if(i.state===et){const s=v;v=null,U(()=>nt(i,t[0]),!1),v=s}}function U(i,t){if(v)return i();let e=!1;t||(v=[]),k?e=!0:k=[],ot++;try{const s=i();return Rt(e),s}catch(s){e||(k=null),v=null,St(s)}}function Rt(i){if(v&&(bt(v),v=null),i)return;const t=k;k=null,t.length&&U(()=>mt(t),!1)}function bt(i){for(let t=0;t<i.length;t++)st(i[t])}function Tt(i){let t,e=0;for(t=0;t<i.length;t++){const s=i[t];s.user?i[e++]=s:st(s)}for(t=0;t<e;t++)st(i[t])}function nt(i,t){i.state=0;for(let e=0;e<i.sources.length;e+=1){const s=i.sources[e];if(s.sources){const n=s.state;n===F?s!==t&&(!s.updatedAt||s.updatedAt<ot)&&st(s):n===et&&nt(s,t)}}}function Mt(i){for(let t=0;t<i.observers.length;t+=1){const e=i.observers[t];e.state||(e.state=et,e.pure?v.push(e):k.push(e),e.observers&&Mt(e))}}function lt(i){let t;if(i.sources)for(;i.sources.length;){const e=i.sources.pop(),s=i.sourceSlots.pop(),n=e.observers;if(n&&n.length){const r=n.pop(),l=e.observerSlots.pop();s<n.length&&(r.sourceSlots[l]=s,n[s]=r,e.observerSlots[s]=l)}}if(i.owned){for(t=i.owned.length-1;t>=0;t--)lt(i.owned[t]);i.owned=null}if(i.cleanups){for(t=i.cleanups.length-1;t>=0;t--)i.cleanups[t]();i.cleanups=null}i.state=0}function Nt(i){return i instanceof Error?i:new Error(typeof i=="string"?i:"Unknown error",{cause:i})}function St(i,t=w){throw Nt(i)}const Ot=Symbol("fallback");function dt(i){for(let t=0;t<i.length;t++)i[t]()}function Wt(i,t,e={}){let s=[],n=[],r=[],l=0,a=t.length>1?[]:null;return N(()=>dt(r)),()=>{let d=i()||[],f,h;return d[Ct],C(()=>{let g=d.length,b,M,P,J,X,S,A,$,O;if(g===0)l!==0&&(dt(r),r=[],s=[],n=[],l=0,a&&(a=[])),e.fallback&&(s=[Ot],n[0]=Q(Et=>(r[0]=Et,e.fallback())),l=1);else if(l===0){for(n=new Array(g),h=0;h<g;h++)s[h]=d[h],n[h]=Q(m);l=g}else{for(P=new Array(g),J=new Array(g),a&&(X=new Array(g)),S=0,A=Math.min(l,g);S<A&&s[S]===d[S];S++);for(A=l-1,$=g-1;A>=S&&$>=S&&s[A]===d[$];A--,$--)P[$]=n[A],J[$]=r[A],a&&(X[$]=a[A]);for(b=new Map,M=new Array($+1),h=$;h>=S;h--)O=d[h],f=b.get(O),M[h]=f===void 0?-1:f,b.set(O,h);for(f=S;f<=A;f++)O=s[f],h=b.get(O),h!==void 0&&h!==-1?(P[h]=n[f],J[h]=r[f],a&&(X[h]=a[f]),h=M[h],b.set(O,h)):r[f]();for(h=S;h<g;h++)h in P?(n[h]=P[h],r[h]=J[h],a&&(a[h]=X[h],a[h](h))):n[h]=Q(m);n=n.slice(0,l=g),s=d.slice(0)}return n});function m(g){if(r[h]=g,a){const[b,M]=j(h);return a[h]=M,t(d[h],b)}return t(d[h])}}}function x(i,t){return C(()=>i(t||{}))}const qt=i=>`Stale read from <${i}>.`;function Bt(i){const t="fallback"in i&&{fallback:()=>i.fallback};return E(Wt(()=>i.each,i.children,t||void 0))}function L(i){const t=i.keyed,e=E(()=>i.when,void 0,{equals:(s,n)=>t?s===n:!s==!n});return E(()=>{const s=e();if(s){const n=i.children;return typeof n=="function"&&n.length>0?C(()=>n(t?s:()=>{if(!C(e))throw qt("Show");return i.when})):n}return i.fallback},void 0,void 0)}function Gt(i,t,e){let s=e.length,n=t.length,r=s,l=0,a=0,d=t[n-1].nextSibling,f=null;for(;l<n||a<r;){if(t[l]===e[a]){l++,a++;continue}for(;t[n-1]===e[r-1];)n--,r--;if(n===l){const h=r<s?a?e[a-1].nextSibling:e[r-a]:d;for(;a<r;)i.insertBefore(e[a++],h)}else if(r===a)for(;l<n;)(!f||!f.has(t[l]))&&t[l].remove(),l++;else if(t[l]===e[r-1]&&e[a]===t[n-1]){const h=t[--n].nextSibling;i.insertBefore(e[a++],t[l++].nextSibling),i.insertBefore(e[--r],h),t[n]=e[r]}else{if(!f){f=new Map;let m=a;for(;m<r;)f.set(e[m],m++)}const h=f.get(t[l]);if(h!=null)if(a<h&&h<r){let m=l,g=1,b;for(;++m<n&&m<r&&!((b=f.get(t[m]))==null||b!==h+g);)g++;if(g>h-a){const M=t[l];for(;a<h;)i.insertBefore(e[a++],M)}else i.replaceChild(e[a++],t[l++])}else l++;else t[l++].remove()}}}const gt="_$DX_DELEGATE";function Dt(i,t,e,s={}){let n;return Q(r=>{n=r,t===document?i():Y(t,i(),t.firstChild?null:void 0,e)},s.owner),()=>{n(),t.textContent=""}}function I(i,t,e){let s;const n=()=>{const l=document.createElement("template");return l.innerHTML=i,e?l.content.firstChild.firstChild:l.content.firstChild},r=t?()=>C(()=>document.importNode(s||(s=n()),!0)):()=>(s||(s=n())).cloneNode(!0);return r.cloneNode=r,r}function Ht(i,t=window.document){const e=t[gt]||(t[gt]=new Set);for(let s=0,n=i.length;s<n;s++){const r=i[s];e.has(r)||(e.add(r),t.addEventListener(r,jt))}}function _t(i,t,e){return C(()=>i(t,e))}function Y(i,t,e,s){if(e!==void 0&&!s&&(s=[]),typeof t!="function")return rt(i,t,s,e);it(n=>rt(i,t(),n,e),s)}function jt(i){const t=`$$${i.type}`;let e=i.composedPath&&i.composedPath()[0]||i.target;for(i.target!==e&&Object.defineProperty(i,"target",{configurable:!0,value:e}),Object.defineProperty(i,"currentTarget",{configurable:!0,get(){return e||document}});e;){const s=e[t];if(s&&!e.disabled){const n=e[`${t}Data`];if(n!==void 0?s.call(e,n,i):s.call(e,i),i.cancelBubble)return}e=e._$host||e.parentNode||e.host}}function rt(i,t,e,s,n){for(;typeof e=="function";)e=e();if(t===e)return e;const r=typeof t,l=s!==void 0;if(i=l&&e[0]&&e[0].parentNode||i,r==="string"||r==="number")if(r==="number"&&(t=t.toString()),l){let a=e[0];a&&a.nodeType===3?a.data!==t&&(a.data=t):a=document.createTextNode(t),e=W(i,e,s,a)}else e!==""&&typeof e=="string"?e=i.firstChild.data=t:e=i.textContent=t;else if(t==null||r==="boolean")e=W(i,e,s);else{if(r==="function")return it(()=>{let a=t();for(;typeof a=="function";)a=a();e=rt(i,a,e,s)}),()=>e;if(Array.isArray(t)){const a=[],d=e&&Array.isArray(e);if(ct(a,t,e,n))return it(()=>e=rt(i,a,e,s,!0)),()=>e;if(a.length===0){if(e=W(i,e,s),l)return e}else d?e.length===0?pt(i,a,s):Gt(i,e,a):(e&&W(i),pt(i,a));e=a}else if(t.nodeType){if(Array.isArray(e)){if(l)return e=W(i,e,s,t);W(i,e,null,t)}else e==null||e===""||!i.firstChild?i.appendChild(t):i.replaceChild(t,i.firstChild);e=t}}return e}function ct(i,t,e,s){let n=!1;for(let r=0,l=t.length;r<l;r++){let a=t[r],d=e&&e[i.length],f;if(!(a==null||a===!0||a===!1))if((f=typeof a)=="object"&&a.nodeType)i.push(a);else if(Array.isArray(a))n=ct(i,a,d)||n;else if(f==="function")if(s){for(;typeof a=="function";)a=a();n=ct(i,Array.isArray(a)?a:[a],Array.isArray(d)?d:[d])||n}else i.push(a),n=!0;else{const h=String(a);d&&d.nodeType===3&&d.data===h?i.push(d):i.push(document.createTextNode(h))}}return n}function pt(i,t,e=null){for(let s=0,n=t.length;s<n;s++)i.insertBefore(t[s],e)}function W(i,t,e,s){if(e===void 0)return i.textContent="";const n=s||document.createTextNode("");if(t.length){let r=!1;for(let l=t.length-1;l>=0;l--){const a=t[l];if(n!==a){const d=a.parentNode===i;!r&&!l?d?i.replaceChild(n,a):i.insertBefore(n,e):d&&a.remove()}else r=!0}}else i.insertBefore(n,e);return[n]}var Vt=function(){return!!(window.location.hostname==="localhost"||window.location.hostname==="[::1]"||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/))},ut;typeof window<"u"&&(typeof Promise<"u"?ut=new Promise(function(i){return window.addEventListener("load",i)}):ut={then:function(i){return window.addEventListener("load",i)}});function zt(i,t){t===void 0&&(t={});var e=t.registrationOptions;e===void 0&&(e={}),delete t.registrationOptions;var s=function(n){for(var r=[],l=arguments.length-1;l-- >0;)r[l]=arguments[l+1];t&&t[n]&&t[n].apply(t,r)};"serviceWorker"in navigator&&ut.then(function(){Vt()?(Kt(i,s,e),navigator.serviceWorker.ready.then(function(n){s("ready",n)}).catch(function(n){return V(s,n)})):(At(i,s,e),navigator.serviceWorker.ready.then(function(n){s("ready",n)}).catch(function(n){return V(s,n)}))})}function V(i,t){navigator.onLine||i("offline"),i("error",t)}function At(i,t,e){navigator.serviceWorker.register(i,e).then(function(s){if(t("registered",s),s.waiting){t("updated",s);return}s.onupdatefound=function(){t("updatefound",s);var n=s.installing;n.onstatechange=function(){n.state==="installed"&&(navigator.serviceWorker.controller?t("updated",s):t("cached",s))}}}).catch(function(s){return V(t,s)})}function Kt(i,t,e){fetch(i).then(function(s){s.status===404?(t("error",new Error("Service worker not found at "+i)),wt()):s.headers.get("content-type").indexOf("javascript")===-1?(t("error",new Error("Expected "+i+" to have javascript content-type, but received "+s.headers.get("content-type"))),wt()):At(i,t,e)}).catch(function(s){return V(t,s)})}function wt(){"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(i){i.unregister()}).catch(function(i){return V(emit,i)})}let R=!1;function Ut(){console.log("mouse registered"),window.onmousemove=i=>{i.clientX,i.clientY},window.onmousedown=i=>R=!0,window.onmouseup=i=>R=!1,window.onpointerdown=i=>R=!0,window.onpointerup=i=>R=!1}class c{constructor(t,e){this.x=t,this.y=e}static random2D(){const t=new c(Math.random()*200-100,Math.random()*200-100);return t.normalize(),t}static add(t,e){const s=new c(t.x,t.y);return s.add(e),s}static sub(t,e){const s=new c(t.x,t.y);return s.sub(e),s}static mult(t,e){const s=new c(t.x,t.y);return s.mult(e),s}static div(t,e){let s=new c(t.x,t.y);return s.div(e),s}static normalize(t){let e=new c(t.x,t.y);return e.normalize(),e}set(t,e){this.x=t,this.y=e}clone(){return new c(this.x,this.y)}add(t){this.x+=t.x,this.y+=t.y}sub(t){this.x-=t.x,this.y-=t.y}mult(t){this.x*=t,this.y*=t}div(t){this.x/=t,this.y/=t}mag(){return Math.sqrt(Math.pow(this.x,2)+Math.pow(this.y,2))}setMag(t){this.normalize(),this.mult(t)}limit(t){this.mag()>t&&this.setMag(t)}normalize(){let t=this.mag();t!==0&&this.mult(1/t)}setHeading(t){let e=this.mag();this.x=Math.sin(t)*e,this.y=Math.cos(t)*e}heading(){return Math.atan2(this.x,this.y)}rotate(t){let e=this.heading()+t;this.setHeading(e)}}let u=null,o=null,y;function Jt(i){u=i,u.width=window.innerWidth,u.height=window.innerHeight,o=u.getContext("2d"),y=new c(u.width/2,u.height/2),console.log("canvas registered...")}function Pt(i="#000"){o.fillStyle=i,o.beginPath(),o.fillRect(0,0,u.width,u.height),o.fill(),o.closePath()}function Xt(i,t,e,s="magenta"){o.beginPath(),o.fillStyle=s,o.arc(i,t,e,0,2*Math.PI,!0),o.fill()}function $t(i,t,e){return i>=e&&(i=e),i<=t&&(i=t),i}function Z(i,t=0){return t===0?Math.random()*i:i+Math.random()*t}function Qt(i,t,e){return(e-t)*i+t}class z{constructor(t,e,s){this.pos=new c(t,e),this.r=Math.sqrt(s)*1.2,this.mass=s,this.vel=c.random2D(),this.vel.setMag(Math.random()*.01+.01),this.acc=new c(0,0)}edges(){this.pos.y>=u.height-this.r&&(this.pos.y=u.height-this.r,this.vel.y*=-1),this.pos.x<=0+this.r&&(this.pos.x=this.r,this.vel.x*=-1),this.pos.x>=u.width-this.r&&(this.pos.x=u.width-this.r,this.vel.x*=-1)}contact(){return u.height-(this.pos.y+this.r)<1}friction(){if(this.contact()){let t=c.normalize(this.vel);t.mult(-1);let e=.01,s=this.mass;t.setMag(e*s),this.applyForce(t)}}drag(){let t=c.normalize(this.vel);t.mult(-1);let e=2,s=this.vel.mag();t.setMag(e*s*s),this.applyForce(t)}attract(t){let e=c.sub(this.pos,t.pos),s=e.mag(),n=s*s;n=$t(n,100,1e3);let l=1*(this.mass*t.mass)/n;e.setMag(l),t.applyForce(e)}applyForce(t){let e=c.div(t,this.mass);this.acc.add(e)}update(){this.vel.add(this.acc),this.pos.add(this.vel),this.acc.set(0,0)}draw(){o.beginPath(),o.arc(this.pos.x,this.pos.y,this.r,0,2*Math.PI,!0),this.contact()?o.fillStyle="#f005":o.fillStyle="#0f05",o.fill(),o.closePath()}}class Yt{constructor(t,e,s){this.pos=new c(t,e),this.color="#0aa5",this.r=Math.sqrt(s)*10,this.mass=s,this.vel=new c(0,0),this.acc=new c(0,0)}edges(){this.pos.y>=u.height-this.r&&(this.pos.y=u.height-this.r,this.vel.y*=-1),this.pos.x<=0+this.r&&(this.pos.x=this.r,this.vel.y*=-1),this.pos.x>=u.width-this.r&&(this.pos.x=u.width-this.r,this.vel.x*=-1)}contact(){return u.height-(this.pos.y+this.r)<1}friction(){if(this.contact()){let t=c.normalize(this.vel);t.mult(-1);let e=.01,s=this.mass;t.setMag(e*s),this.applyForce(t)}}drag(){let t=c.normalize(this.vel);t.mult(-1);let e=.01,s=this.vel.mag();t.setMag(e*s*s),this.applyForce(t)}applyForce(t){let e=c.div(t,this.mass);this.acc.add(e)}attract(t){let e=c.sub(this.pos,t.pos),s=e.mag(),n=s*s;n=$t(n,100,400);let l=5*(this.mass*t.mass)/n;e.setMag(l),t.applyForce(e)}update(){this.vel.add(this.acc),this.vel.limit(25),this.pos.add(this.vel)}draw(){o.beginPath(),o.arc(this.pos.x,this.pos.y,this.r,0,2*Math.PI,!0),this.contact()?o.fillStyle="#f005":o.fillStyle=this.color,o.fill(),o.closePath()}}let Zt=class{constructor(){this.run=!1,this.width=u.width,this.height=u.height,this.players=[],this.attractor=new Yt(u.width/2,u.height/3.5,18),this.actor=new z(u.width*.3,u.height*.3,3);for(let t=0;t<20;t++)this.players.push(new z(Math.random()*u.width,40,12+Math.random()*15))}update(){let t=new c(0,.09),e=new c(.09,0);this.actor.update(),this.attractor.attract(this.actor),this.players.forEach((s,n)=>{s.applyForce(c.mult(t,s.mass)),R&&(console.log("wind"),s.applyForce(e)),s.pos.y>u.height*.55&&s.drag(),s.update(),s.edges(),n>10&&this.attractor.attract(s)})}draw(){o.fillStyle="#00000004",o.beginPath(),o.fillRect(0,0,this.width,this.height),o.fill(),o.closePath(),o.fillStyle="#00a1",o.beginPath(),o.fillRect(0,this.height*.55,this.width,this.height),o.fill(),o.closePath(),this.attractor.draw(),this.actor.draw(),this.players.forEach(t=>{t.draw()})}animate(){this.update(),this.draw(),this.run&&requestAnimationFrame(()=>this.animate())}},q;function te(){return T(()=>{q=new Zt,q.run=!0,q.animate()}),N(()=>{q.run=!1,q.animate=()=>{},q=""}),[]}class ee{constructor(){this.run=!1,this.width=u.width,this.height=u.height,this.movers=[];let t=new c(this.width/2,this.height/2);for(let e=0;e<300;e++){let s=c.random2D();s.setMag(100+Z(50)),s.add(t);let n=s.x,r=s.y;this.movers.push(new z(n,r,5))}}update(){this.movers.forEach(t=>{for(let e of this.movers)t!==e&&t.attract(e);t.update()})}draw(){this.background("#066a"),this.movers.forEach(t=>{t.draw()})}background(t="#000"){o.fillStyle=t,o.beginPath(),o.fillRect(0,0,this.width,this.height),o.fill(),o.closePath()}animate(){this.update(),this.draw(),this.run&&requestAnimationFrame(()=>this.animate())}}var ie=I("<div>");let G;function se(){return T(()=>{G=new ee,G.run=!0,G.animate()}),N(()=>{G.run=!1,G=""}),ie()}class ne{constructor(t,e,s){this.pos=new c(t,e),this.r=Math.sqrt(s)*4,this.mass=s,this.vel=c.random2D(),this.vel.setMag(Math.random()*.01+.01),this.acc=new c(0,0)}edges(){this.pos.y>=u.height-this.r&&(this.pos.y=u.height-this.r,this.vel.y*=-1),this.pos.x<=0+this.r&&(this.pos.x=this.r,this.vel.x*=-1),this.pos.x>=u.width-this.r&&(this.pos.x=u.width-this.r,this.vel.x*=-1)}contact(){return u.height-(this.pos.y+this.r)<1}friction(){if(this.contact()){let t=c.normalize(this.vel);t.mult(-1);let e=.01,s=this.mass;t.setMag(e*s),this.applyForce(t)}}drag(){let t=c.normalize(this.vel);t.mult(-1);let e=2,s=this.vel.mag();t.setMag(e*s*s),this.applyForce(t)}detract(t){let e=c.sub(this.pos,t.pos);if(e.mag()>40)return;console.log(e.mag()),e.mult(-1);let s=e.mag(),n=s*s,l=.7*(this.mass*t.mass)/n;e.setMag(l),t.applyForce(e)}attract(t){let e=c.sub(this.pos,t.pos),s=e.mag(),n=s*s,l=.1*(this.mass*t.mass)/n;e.setMag(l),t.applyForce(e)}applyForce(t){let e=c.div(t,this.mass);this.acc.add(e),this.dir=this.acc.heading()}update(){this.vel.add(this.acc),this.pos.add(this.vel),this.acc.set(0,0)}draw(){o.translate(this.pos.x,this.pos.y);let t=new c(-this.r,-this.r),e=new c(this.r,-this.r),s=new c(0,this.r*2),n=this.vel.heading();t.rotate(n),e.rotate(n),s.rotate(n),o.beginPath(),o.moveTo(t.x,t.y),o.lineTo(e.x,e.y),o.lineTo(s.x,s.y),o.lineTo(t.x,t.y),this.contact()?o.fillStyle="#f005":o.fillStyle="#000",o.fill(),o.closePath(),o.translate(-this.pos.x,-this.pos.y)}}var re=I("<div>");let oe=class{constructor(){this.run=!1,this.width=u.width,this.height=u.height,this.sun=new z(this.width/2,this.height/2,30),this.movers=[],this.angleI=0;let t=new c(this.width/2,this.height/2);for(let e=0;e<Math.PI*2;e+=1){let s=c.random2D();s.setMag(100),s.setHeading(e),s.add(t);let n=s.x,r=s.y;this.movers.push(new ne(n,r,25))}this.moon=new z(200,200,100),console.log("before",this.moon),console.log(2*Math.PI),console.log("heading before",this.moon.pos.heading()),this.moon.pos.setHeading(0),console.log(this.moon.pos.heading())}update(){this.movers.forEach(t=>{this.sun.attract(t);for(let s of this.movers)t!==s&&t.detract(s);t.update();let e=Qt(this.angleI,0,2*Math.PI);this.moon.pos.setHeading(e),this.angleI+=1e-4})}draw(){o.reset(),this.background("#e00a"),this.movers.forEach(t=>{t.draw()}),this.sun.draw(),this.moon.draw()}background(t="#000"){o.fillStyle=t,o.beginPath(),o.fillRect(0,0,this.width,this.height),o.fill(),o.closePath()}animate(){this.update(),this.draw(),this.run&&requestAnimationFrame(()=>this.animate())}},D;function le(){return T(()=>{D=new oe,D.run=!0,D.animate()}),N(()=>{D.run=!1,D=""}),re()}class ae{constructor(t,e,s){this.pos=new c(t,e),this.vel=c.random2D(),this.vel.setMag(5)}update(){this.pos.add(this.vel)}draw(){let t=new c(0,20);t.setHeading(0),t.setHeading(this.vel.heading()),o.strokeStyle="yellow",o.lineWidth=7,o.moveTo(this.pos.x,this.pos.y),o.lineTo(this.pos.x+t.x,this.pos.y+t.y),o.stroke()}}var he=I("<div>");let ce=class{constructor(){this.run=!1,this.width=u.width,this.height=u.height,this.caprot=new ae(200,300),this.max=0,this.angleMax=0,this.spiralR=190}update(){this.caprot.update(),c.sub(y,this.caprot.pos).mag()>500&&(this.caprot.pos.set(y.x,y.y),this.caprot.vel=c.random2D(),this.caprot.vel.setMag(4))}draw(){this.background("#00000005"),this.caprot.draw(),o.strokeStyle="magenta",o.lineWidth=4,o.beginPath(),o.arc(y.x,y.y,100,0,2*Math.PI,!0),o.stroke(),o.closePath(),this.dotsOnCircle(),this.angleMax+=.09,this.spiralR-=.19,this.spiralR<=100&&(this.spiralR=190);let t=new c(200,0),e=Math.cos(this.angleMax)*this.spiralR,s=Math.sin(this.angleMax)*this.spiralR;this.dot(y.x+e,y.y+s),o.beginPath(),o.strokeStyle="lightgreen",o.lineWidth=1,t.setHeading(0),o.moveTo(y.x+t.x,y.y+t.y);for(let n=0;n<2*Math.PI;n+=.001)t.setHeading(n),o.lineTo(y.x+t.x,y.y+t.y);o.closePath(),o.stroke()}dotsOnCircle(){this.max<Math.PI*2&&(this.max+=.1),this.max>=Math.PI*2&&(this.max=0);let t=new c(100,0);for(let e=0;e<this.max;e+=2*Math.PI/12)t.setHeading(e),this.dot(y.x+t.x,y.y+t.y)}dot(t,e){o.fillStyle="yellow",o.beginPath(),o.arc(t,e,4,0,Math.PI*2,!0),o.fill(),o.closePath()}background(t="#000"){o.fillStyle=t,o.beginPath(),o.fillRect(0,0,this.width,this.height),o.fill(),o.closePath()}animate(){this.update(),this.draw(),this.run&&requestAnimationFrame(()=>this.animate())}},H;function ue(){return T(()=>{H=new ce,H.run=!0,H.animate()}),N(()=>{H.run=!1,H=""}),he()}class fe{constructor(t,e,s){this.amplitude=t,this.period=e,this.phase=s}calculate(t){return Math.sin(this.phase+2*Math.PI*t/this.period)*this.amplitude}calculateAudio(t){return Math.sin(2*Math.PI*t/this.period)}}var de=I("<div>");let ge=class{constructor(){this.run=!1,this.width=u.width,this.height=u.height,this.waves=[],this.makeRandomWaves(),this.lockMouse=!1}makeRandomWaves(){this.waves=[];for(let t=0;t<2;t++)this.waves.push(new fe(Z(this.height/28,this.height/15),Z(this.width/8,this.width),Z(0,2*Math.PI)))}async playSound(){const t=new(window.AudioContext||window.webkitAudioContext),e=t.createBuffer(2,t.sampleRate*3,t.sampleRate);for(let n=0;n<e.numberOfChannels;n++){console.log(e.length);const r=e.getChannelData(n);for(let l=0;l<e.length;l++){let a=l,d=0;this.waves.forEach(f=>{d+=f.calculateAudio(a)}),r[l]=d}}const s=t.createBufferSource();s.buffer=e,s.connect(t.destination),s.start()}update(){R&&this.lockMouse===!1&&(this.makeRandomWaves(),this.playSound(),this.lockMouse=!0,setTimeout(()=>this.lockMouse=!1,300))}draw(){Pt("#00000022");for(let t=0;t<this.width;t+=.5){let e=0;this.waves.forEach(s=>{e+=s.calculate(t)}),Xt(t,y.y+e,3,"magenta")}this.waves.forEach(t=>t.phase+=.1)}animate(){this.update(),this.draw(),this.run&&requestAnimationFrame(()=>this.animate())}},B;function pe(){return T(()=>{B=new ge,B.run=!0,B.animate(),B.playSound()}),N(()=>{B.run=!1,B=""}),de()}var we=I("<div>");class me{constructor(){this.run=!1,this.width=u.width,this.height=u.height,this.lockMouse=!1,this.y=590,this.restLength=300,this.k=.1,this.velocity=0}update(){R&&this.lockMouse===!1&&(this.lockMouse=!0,this.y=590,setTimeout(()=>this.lockMouse=!1,300))}draw(){Pt("#0a0"),o.fillStyle="#010",o.beginPath(),o.arc(y.x,this.y,25,0,Math.PI*2),o.fill();let t=this.y-this.restLength,e=-this.k*t;this.velocity+=e,this.y+=this.velocity,this.velocity*=.94}animate(){this.update(),this.draw(),this.run&&requestAnimationFrame(()=>this.animate())}}let _;function ye(){return T(()=>{_=new me,_.run=!0,_.animate()}),N(()=>{_.run=!1,_=""}),we()}var ve=I("<div id=menu>"),xe=I("<div id=pile><canvas id=playground></canvas><button id=menu-button>next"),be=I("<dialog><h4>Like to get Notified?</h4><button>activate notifications"),Me=I("<button>");let ht;function Se(){zt("/demo-game/serviceworker.js")}const Ae=async()=>Notification.permission==="granted",Pe=async()=>{if(await Notification.requestPermission()!=="granted")throw new Error("Notification permission not granted")};function $e(i){window.localStorage.setItem("pageList",JSON.stringify(i))}function Ee(){let i=window.localStorage.getItem("pageList");return i?JSON.parse(i):null}function ke(){const[i,t]=j(!1),[e,s]=j(!1),[n,r]=j({Beginners:!1,"Mutual Attraction":!1,AngleAndRadians:!1,Drawing:!1,"Harmonic Motion":!1,"Spring Forces":!1}),[l,a]=j(!1);T(async()=>{Se(),await Ae()||t(!0),Ut(),Jt(ht),a(!0);let h=Ee();h&&r({...n(),...h})});function d(f){const h=n();for(let m in h)h[m]=!1;h[f]=!0,r({...h}),s(!1),$e(n())}return[x(L,{get when(){return E(()=>n().Beginners===!0)()&&l()},get children(){return x(te,{})}}),x(L,{get when(){return E(()=>n()["Mutual Attraction"]===!0)()&&l()},get children(){return x(se,{})}}),x(L,{get when(){return E(()=>n().AngleAndRadians===!0)()&&l()},get children(){return x(le,{})}}),x(L,{get when(){return E(()=>n().Drawing===!0)()&&l()},get children(){return x(ue,{})}}),x(L,{get when(){return E(()=>n()["Harmonic Motion"]===!0)()&&l()},get children(){return x(pe,{})}}),x(L,{get when(){return E(()=>n()["Spring Forces"]===!0)()&&l()},get children(){return x(ye,{})}}),(()=>{var f=xe(),h=f.firstChild,m=h.nextSibling,g=ht;return typeof g=="function"?_t(g,h):ht=h,m.$$click=()=>s(!e()),Y(f,x(L,{get when(){return e()},get children(){var b=ve();return Y(b,x(Bt,{get each(){return Object.keys(n())},children:M=>(()=>{var P=Me();return P.$$click=()=>d(M),Y(P,M),P})()})),b}}),null),f})(),(()=>{var f=be(),h=f.firstChild,m=h.nextSibling;return m.$$click=()=>{Pe(),t(!1)},it(()=>f.open=i()),f})()]}Ht(["click"]);const Ce=document.getElementById("root");Dt(()=>x(ke,{}),Ce);
