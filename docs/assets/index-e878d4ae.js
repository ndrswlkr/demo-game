(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function e(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerPolicy&&(r.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?r.credentials="include":n.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(n){if(n.ep)return;n.ep=!0;const r=e(n);fetch(n.href,r)}})();const Et=(i,t)=>i===t,$t=Symbol("solid-track"),Z={equals:Et};let wt=xt;const I=1,tt=2,mt={owned:null,cleanups:null,context:null,owner:null};var w=null;let lt=null,Ct=null,p=null,y=null,$=null,rt=0;function X(i,t){const e=p,s=w,n=i.length===0,r=t===void 0?s:t,l=n?mt:{owned:null,cleanups:null,context:r?r.context:null,owner:r},a=n?i:()=>i(()=>C(()=>ot(l)));w=l,p=null;try{return K(a,!0)}finally{p=e,w=s}}function _(i,t){t=t?Object.assign({},Z,t):Z;const e={value:i,observers:null,observerSlots:null,comparator:t.equals||void 0},s=n=>(typeof n=="function"&&(n=n(e.value)),vt(e,n));return[yt.bind(e),s]}function et(i,t,e){const s=ut(i,t,!1,I);z(s)}function kt(i,t,e){wt=Lt;const s=ut(i,t,!1,I);(!e||!e.render)&&(s.user=!0),$?$.push(s):z(s)}function k(i,t,e){e=e?Object.assign({},Z,e):Z;const s=ut(i,t,!0,0);return s.observers=null,s.observerSlots=null,s.comparator=e.equals||void 0,z(s),yt.bind(s)}function C(i){if(p===null)return i();const t=p;p=null;try{return i()}finally{p=t}}function B(i){kt(()=>C(i))}function q(i){return w===null||(w.cleanups===null?w.cleanups=[i]:w.cleanups.push(i)),i}function yt(){if(this.sources&&this.state)if(this.state===I)z(this);else{const i=y;y=null,K(()=>st(this),!1),y=i}if(p){const i=this.observers?this.observers.length:0;p.sources?(p.sources.push(this),p.sourceSlots.push(i)):(p.sources=[this],p.sourceSlots=[i]),this.observers?(this.observers.push(p),this.observerSlots.push(p.sources.length-1)):(this.observers=[p],this.observerSlots=[p.sources.length-1])}return this.value}function vt(i,t,e){let s=i.value;return(!i.comparator||!i.comparator(s,t))&&(i.value=t,i.observers&&i.observers.length&&K(()=>{for(let n=0;n<i.observers.length;n+=1){const r=i.observers[n],l=lt&&lt.running;l&&lt.disposed.has(r),(l?!r.tState:!r.state)&&(r.pure?y.push(r):$.push(r),r.observers&&bt(r)),l||(r.state=I)}if(y.length>1e6)throw y=[],new Error},!1)),t}function z(i){if(!i.fn)return;ot(i);const t=rt;It(i,i.value,t)}function It(i,t,e){let s;const n=w,r=p;p=w=i;try{s=i.fn(t)}catch(l){return i.pure&&(i.state=I,i.owned&&i.owned.forEach(ot),i.owned=null),i.updatedAt=e+1,Mt(l)}finally{p=r,w=n}(!i.updatedAt||i.updatedAt<=e)&&(i.updatedAt!=null&&"observers"in i?vt(i,s):i.value=s,i.updatedAt=e)}function ut(i,t,e,s=I,n){const r={fn:i,state:s,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:w,context:w?w.context:null,pure:e};return w===null||w!==mt&&(w.owned?w.owned.push(r):w.owned=[r]),r}function it(i){if(i.state===0)return;if(i.state===tt)return st(i);if(i.suspense&&C(i.suspense.inFallback))return i.suspense.effects.push(i);const t=[i];for(;(i=i.owner)&&(!i.updatedAt||i.updatedAt<rt);)i.state&&t.push(i);for(let e=t.length-1;e>=0;e--)if(i=t[e],i.state===I)z(i);else if(i.state===tt){const s=y;y=null,K(()=>st(i,t[0]),!1),y=s}}function K(i,t){if(y)return i();let e=!1;t||(y=[]),$?e=!0:$=[],rt++;try{const s=i();return Rt(e),s}catch(s){e||($=null),y=null,Mt(s)}}function Rt(i){if(y&&(xt(y),y=null),i)return;const t=$;$=null,t.length&&K(()=>wt(t),!1)}function xt(i){for(let t=0;t<i.length;t++)it(i[t])}function Lt(i){let t,e=0;for(t=0;t<i.length;t++){const s=i[t];s.user?i[e++]=s:it(s)}for(t=0;t<e;t++)it(i[t])}function st(i,t){i.state=0;for(let e=0;e<i.sources.length;e+=1){const s=i.sources[e];if(s.sources){const n=s.state;n===I?s!==t&&(!s.updatedAt||s.updatedAt<rt)&&it(s):n===tt&&st(s,t)}}}function bt(i){for(let t=0;t<i.observers.length;t+=1){const e=i.observers[t];e.state||(e.state=tt,e.pure?y.push(e):$.push(e),e.observers&&bt(e))}}function ot(i){let t;if(i.sources)for(;i.sources.length;){const e=i.sources.pop(),s=i.sourceSlots.pop(),n=e.observers;if(n&&n.length){const r=n.pop(),l=e.observerSlots.pop();s<n.length&&(r.sourceSlots[l]=s,n[s]=r,e.observerSlots[s]=l)}}if(i.owned){for(t=i.owned.length-1;t>=0;t--)ot(i.owned[t]);i.owned=null}if(i.cleanups){for(t=i.cleanups.length-1;t>=0;t--)i.cleanups[t]();i.cleanups=null}i.state=0}function Tt(i){return i instanceof Error?i:new Error(typeof i=="string"?i:"Unknown error",{cause:i})}function Mt(i,t=w){throw Tt(i)}const Ft=Symbol("fallback");function ft(i){for(let t=0;t<i.length;t++)i[t]()}function Nt(i,t,e={}){let s=[],n=[],r=[],l=0,a=t.length>1?[]:null;return q(()=>ft(r)),()=>{let d=i()||[],f,h;return d[$t],C(()=>{let g=d.length,x,M,P,U,J,S,A,E,L;if(g===0)l!==0&&(ft(r),r=[],s=[],n=[],l=0,a&&(a=[])),e.fallback&&(s=[Ft],n[0]=X(Pt=>(r[0]=Pt,e.fallback())),l=1);else if(l===0){for(n=new Array(g),h=0;h<g;h++)s[h]=d[h],n[h]=X(m);l=g}else{for(P=new Array(g),U=new Array(g),a&&(J=new Array(g)),S=0,A=Math.min(l,g);S<A&&s[S]===d[S];S++);for(A=l-1,E=g-1;A>=S&&E>=S&&s[A]===d[E];A--,E--)P[E]=n[A],U[E]=r[A],a&&(J[E]=a[A]);for(x=new Map,M=new Array(E+1),h=E;h>=S;h--)L=d[h],f=x.get(L),M[h]=f===void 0?-1:f,x.set(L,h);for(f=S;f<=A;f++)L=s[f],h=x.get(L),h!==void 0&&h!==-1?(P[h]=n[f],U[h]=r[f],a&&(J[h]=a[f]),h=M[h],x.set(L,h)):r[f]();for(h=S;h<g;h++)h in P?(n[h]=P[h],r[h]=U[h],a&&(a[h]=J[h],a[h](h))):n[h]=X(m);n=n.slice(0,l=g),s=d.slice(0)}return n});function m(g){if(r[h]=g,a){const[x,M]=_(h);return a[h]=M,t(d[h],x)}return t(d[h])}}}function b(i,t){return C(()=>i(t||{}))}const Ot=i=>`Stale read from <${i}>.`;function Wt(i){const t="fallback"in i&&{fallback:()=>i.fallback};return k(Nt(()=>i.each,i.children,t||void 0))}function T(i){const t=i.keyed,e=k(()=>i.when,void 0,{equals:(s,n)=>t?s===n:!s==!n});return k(()=>{const s=e();if(s){const n=i.children;return typeof n=="function"&&n.length>0?C(()=>n(t?s:()=>{if(!C(e))throw Ot("Show");return i.when})):n}return i.fallback},void 0,void 0)}function Bt(i,t,e){let s=e.length,n=t.length,r=s,l=0,a=0,d=t[n-1].nextSibling,f=null;for(;l<n||a<r;){if(t[l]===e[a]){l++,a++;continue}for(;t[n-1]===e[r-1];)n--,r--;if(n===l){const h=r<s?a?e[a-1].nextSibling:e[r-a]:d;for(;a<r;)i.insertBefore(e[a++],h)}else if(r===a)for(;l<n;)(!f||!f.has(t[l]))&&t[l].remove(),l++;else if(t[l]===e[r-1]&&e[a]===t[n-1]){const h=t[--n].nextSibling;i.insertBefore(e[a++],t[l++].nextSibling),i.insertBefore(e[--r],h),t[n]=e[r]}else{if(!f){f=new Map;let m=a;for(;m<r;)f.set(e[m],m++)}const h=f.get(t[l]);if(h!=null)if(a<h&&h<r){let m=l,g=1,x;for(;++m<n&&m<r&&!((x=f.get(t[m]))==null||x!==h+g);)g++;if(g>h-a){const M=t[l];for(;a<h;)i.insertBefore(e[a++],M)}else i.replaceChild(e[a++],t[l++])}else l++;else t[l++].remove()}}}const dt="_$DX_DELEGATE";function qt(i,t,e,s={}){let n;return X(r=>{n=r,t===document?i():Q(t,i(),t.firstChild?null:void 0,e)},s.owner),()=>{n(),t.textContent=""}}function R(i,t,e){let s;const n=()=>{const l=document.createElement("template");return l.innerHTML=i,e?l.content.firstChild.firstChild:l.content.firstChild},r=t?()=>C(()=>document.importNode(s||(s=n()),!0)):()=>(s||(s=n())).cloneNode(!0);return r.cloneNode=r,r}function Dt(i,t=window.document){const e=t[dt]||(t[dt]=new Set);for(let s=0,n=i.length;s<n;s++){const r=i[s];e.has(r)||(e.add(r),t.addEventListener(r,Ht))}}function Gt(i,t,e){return C(()=>i(t,e))}function Q(i,t,e,s){if(e!==void 0&&!s&&(s=[]),typeof t!="function")return nt(i,t,s,e);et(n=>nt(i,t(),n,e),s)}function Ht(i){const t=`$$${i.type}`;let e=i.composedPath&&i.composedPath()[0]||i.target;for(i.target!==e&&Object.defineProperty(i,"target",{configurable:!0,value:e}),Object.defineProperty(i,"currentTarget",{configurable:!0,get(){return e||document}});e;){const s=e[t];if(s&&!e.disabled){const n=e[`${t}Data`];if(n!==void 0?s.call(e,n,i):s.call(e,i),i.cancelBubble)return}e=e._$host||e.parentNode||e.host}}function nt(i,t,e,s,n){for(;typeof e=="function";)e=e();if(t===e)return e;const r=typeof t,l=s!==void 0;if(i=l&&e[0]&&e[0].parentNode||i,r==="string"||r==="number")if(r==="number"&&(t=t.toString()),l){let a=e[0];a&&a.nodeType===3?a.data!==t&&(a.data=t):a=document.createTextNode(t),e=F(i,e,s,a)}else e!==""&&typeof e=="string"?e=i.firstChild.data=t:e=i.textContent=t;else if(t==null||r==="boolean")e=F(i,e,s);else{if(r==="function")return et(()=>{let a=t();for(;typeof a=="function";)a=a();e=nt(i,a,e,s)}),()=>e;if(Array.isArray(t)){const a=[],d=e&&Array.isArray(e);if(ht(a,t,e,n))return et(()=>e=nt(i,a,e,s,!0)),()=>e;if(a.length===0){if(e=F(i,e,s),l)return e}else d?e.length===0?gt(i,a,s):Bt(i,e,a):(e&&F(i),gt(i,a));e=a}else if(t.nodeType){if(Array.isArray(e)){if(l)return e=F(i,e,s,t);F(i,e,null,t)}else e==null||e===""||!i.firstChild?i.appendChild(t):i.replaceChild(t,i.firstChild);e=t}}return e}function ht(i,t,e,s){let n=!1;for(let r=0,l=t.length;r<l;r++){let a=t[r],d=e&&e[i.length],f;if(!(a==null||a===!0||a===!1))if((f=typeof a)=="object"&&a.nodeType)i.push(a);else if(Array.isArray(a))n=ht(i,a,d)||n;else if(f==="function")if(s){for(;typeof a=="function";)a=a();n=ht(i,Array.isArray(a)?a:[a],Array.isArray(d)?d:[d])||n}else i.push(a),n=!0;else{const h=String(a);d&&d.nodeType===3&&d.data===h?i.push(d):i.push(document.createTextNode(h))}}return n}function gt(i,t,e=null){for(let s=0,n=t.length;s<n;s++)i.insertBefore(t[s],e)}function F(i,t,e,s){if(e===void 0)return i.textContent="";const n=s||document.createTextNode("");if(t.length){let r=!1;for(let l=t.length-1;l>=0;l--){const a=t[l];if(n!==a){const d=a.parentNode===i;!r&&!l?d?i.replaceChild(n,a):i.insertBefore(n,e):d&&a.remove()}else r=!0}}else i.insertBefore(n,e);return[n]}var _t=function(){return!!(window.location.hostname==="localhost"||window.location.hostname==="[::1]"||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/))},ct;typeof window<"u"&&(typeof Promise<"u"?ct=new Promise(function(i){return window.addEventListener("load",i)}):ct={then:function(i){return window.addEventListener("load",i)}});function jt(i,t){t===void 0&&(t={});var e=t.registrationOptions;e===void 0&&(e={}),delete t.registrationOptions;var s=function(n){for(var r=[],l=arguments.length-1;l-- >0;)r[l]=arguments[l+1];t&&t[n]&&t[n].apply(t,r)};"serviceWorker"in navigator&&ct.then(function(){_t()?(Vt(i,s,e),navigator.serviceWorker.ready.then(function(n){s("ready",n)}).catch(function(n){return j(s,n)})):(St(i,s,e),navigator.serviceWorker.ready.then(function(n){s("ready",n)}).catch(function(n){return j(s,n)}))})}function j(i,t){navigator.onLine||i("offline"),i("error",t)}function St(i,t,e){navigator.serviceWorker.register(i,e).then(function(s){if(t("registered",s),s.waiting){t("updated",s);return}s.onupdatefound=function(){t("updatefound",s);var n=s.installing;n.onstatechange=function(){n.state==="installed"&&(navigator.serviceWorker.controller?t("updated",s):t("cached",s))}}}).catch(function(s){return j(t,s)})}function Vt(i,t,e){fetch(i).then(function(s){s.status===404?(t("error",new Error("Service worker not found at "+i)),pt()):s.headers.get("content-type").indexOf("javascript")===-1?(t("error",new Error("Expected "+i+" to have javascript content-type, but received "+s.headers.get("content-type"))),pt()):St(i,t,e)}).catch(function(s){return j(t,s)})}function pt(){"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(i){i.unregister()}).catch(function(i){return j(emit,i)})}let W=!1;function zt(){console.log("mouse registered"),window.onmousemove=i=>{i.clientX,i.clientY},window.onmousedown=i=>W=!0,window.onmouseup=i=>W=!1,window.onpointerdown=i=>W=!0,window.onpointerup=i=>W=!1}class c{constructor(t,e){this.x=t,this.y=e}static random2D(){const t=new c(Math.random()*200-100,Math.random()*200-100);return t.normalize(),t}static add(t,e){const s=new c(t.x,t.y);return s.add(e),s}static sub(t,e){const s=new c(t.x,t.y);return s.sub(e),s}static mult(t,e){const s=new c(t.x,t.y);return s.mult(e),s}static div(t,e){let s=new c(t.x,t.y);return s.div(e),s}static normalize(t){let e=new c(t.x,t.y);return e.normalize(),e}set(t,e){this.x=t,this.y=e}clone(){return new c(this.x,this.y)}add(t){this.x+=t.x,this.y+=t.y}sub(t){this.x-=t.x,this.y-=t.y}mult(t){this.x*=t,this.y*=t}div(t){this.x/=t,this.y/=t}mag(){return Math.sqrt(Math.pow(this.x,2)+Math.pow(this.y,2))}setMag(t){this.normalize(),this.mult(t)}limit(t){this.mag()>t&&this.setMag(t)}normalize(){let t=this.mag();t!==0&&this.mult(1/t)}setHeading(t){let e=this.mag();this.x=Math.sin(t)*e,this.y=Math.cos(t)*e}heading(){return Math.atan2(this.x,this.y)}rotate(t){let e=this.heading()+t;this.setHeading(e)}}let u=null,o=null,v;function Kt(i){u=i,u.width=window.innerWidth,u.height=window.innerHeight,o=u.getContext("2d"),v=new c(u.width/2,u.height/2),console.log("canvas registered...")}function Ut(i="#000"){o.fillStyle=i,o.beginPath(),o.fillRect(0,0,u.width,u.height),o.fill(),o.closePath()}function Jt(i,t,e,s="magenta"){o.beginPath(),o.fillStyle=s,o.arc(i,t,e,0,2*Math.PI,!0),o.fill()}function At(i,t,e){return i>=e&&(i=e),i<=t&&(i=t),i}function Y(i,t=0){return t===0?Math.random()*i:i+Math.random()*t}function Xt(i,t,e){return(e-t)*i+t}class V{constructor(t,e,s){this.pos=new c(t,e),this.r=Math.sqrt(s)*1.2,this.mass=s,this.vel=c.random2D(),this.vel.setMag(Math.random()*.01+.01),this.acc=new c(0,0)}edges(){this.pos.y>=u.height-this.r&&(this.pos.y=u.height-this.r,this.vel.y*=-1),this.pos.x<=0+this.r&&(this.pos.x=this.r,this.vel.x*=-1),this.pos.x>=u.width-this.r&&(this.pos.x=u.width-this.r,this.vel.x*=-1)}contact(){return u.height-(this.pos.y+this.r)<1}friction(){if(this.contact()){let t=c.normalize(this.vel);t.mult(-1);let e=.01,s=this.mass;t.setMag(e*s),this.applyForce(t)}}drag(){let t=c.normalize(this.vel);t.mult(-1);let e=2,s=this.vel.mag();t.setMag(e*s*s),this.applyForce(t)}attract(t){let e=c.sub(this.pos,t.pos),s=e.mag(),n=s*s;n=At(n,100,1e3);let l=1*(this.mass*t.mass)/n;e.setMag(l),t.applyForce(e)}applyForce(t){let e=c.div(t,this.mass);this.acc.add(e)}update(){this.vel.add(this.acc),this.pos.add(this.vel),this.acc.set(0,0)}draw(){o.beginPath(),o.arc(this.pos.x,this.pos.y,this.r,0,2*Math.PI,!0),this.contact()?o.fillStyle="#f005":o.fillStyle="#0f05",o.fill(),o.closePath()}}class Qt{constructor(t,e,s){this.pos=new c(t,e),this.color="#0aa5",this.r=Math.sqrt(s)*10,this.mass=s,this.vel=new c(0,0),this.acc=new c(0,0)}edges(){this.pos.y>=u.height-this.r&&(this.pos.y=u.height-this.r,this.vel.y*=-1),this.pos.x<=0+this.r&&(this.pos.x=this.r,this.vel.y*=-1),this.pos.x>=u.width-this.r&&(this.pos.x=u.width-this.r,this.vel.x*=-1)}contact(){return u.height-(this.pos.y+this.r)<1}friction(){if(this.contact()){let t=c.normalize(this.vel);t.mult(-1);let e=.01,s=this.mass;t.setMag(e*s),this.applyForce(t)}}drag(){let t=c.normalize(this.vel);t.mult(-1);let e=.01,s=this.vel.mag();t.setMag(e*s*s),this.applyForce(t)}applyForce(t){let e=c.div(t,this.mass);this.acc.add(e)}attract(t){let e=c.sub(this.pos,t.pos),s=e.mag(),n=s*s;n=At(n,100,400);let l=5*(this.mass*t.mass)/n;e.setMag(l),t.applyForce(e)}update(){this.vel.add(this.acc),this.vel.limit(25),this.pos.add(this.vel)}draw(){o.beginPath(),o.arc(this.pos.x,this.pos.y,this.r,0,2*Math.PI,!0),this.contact()?o.fillStyle="#f005":o.fillStyle=this.color,o.fill(),o.closePath()}}let Yt=class{constructor(){this.run=!1,this.width=u.width,this.height=u.height,this.players=[],this.attractor=new Qt(u.width/2,u.height/3.5,18),this.actor=new V(u.width*.3,u.height*.3,3);for(let t=0;t<20;t++)this.players.push(new V(Math.random()*u.width,40,12+Math.random()*15))}update(){let t=new c(0,.09),e=new c(.09,0);this.actor.update(),this.attractor.attract(this.actor),this.players.forEach((s,n)=>{s.applyForce(c.mult(t,s.mass)),W&&(console.log("wind"),s.applyForce(e)),s.pos.y>u.height*.55&&s.drag(),s.update(),s.edges(),n>10&&this.attractor.attract(s)})}draw(){o.fillStyle="#00000004",o.beginPath(),o.fillRect(0,0,this.width,this.height),o.fill(),o.closePath(),o.fillStyle="#00a1",o.beginPath(),o.fillRect(0,this.height*.55,this.width,this.height),o.fill(),o.closePath(),this.attractor.draw(),this.actor.draw(),this.players.forEach(t=>{t.draw()})}animate(){this.update(),this.draw(),this.run&&requestAnimationFrame(()=>this.animate())}},N;function Zt(){return B(()=>{N=new Yt,N.run=!0,N.animate()}),q(()=>{N.run=!1,N.animate=()=>{},N=""}),[]}class te{constructor(){this.run=!1,this.width=u.width,this.height=u.height,this.movers=[];let t=new c(this.width/2,this.height/2);for(let e=0;e<300;e++){let s=c.random2D();s.setMag(100+Y(50)),s.add(t);let n=s.x,r=s.y;this.movers.push(new V(n,r,5))}}update(){this.movers.forEach(t=>{for(let e of this.movers)t!==e&&t.attract(e);t.update()})}draw(){this.background("#066a"),this.movers.forEach(t=>{t.draw()})}background(t="#000"){o.fillStyle=t,o.beginPath(),o.fillRect(0,0,this.width,this.height),o.fill(),o.closePath()}animate(){this.update(),this.draw(),this.run&&requestAnimationFrame(()=>this.animate())}}var ee=R("<div>");let D;function ie(){return B(()=>{D=new te,D.run=!0,D.animate()}),q(()=>{D.run=!1,D=""}),ee()}class se{constructor(t,e,s){this.pos=new c(t,e),this.r=Math.sqrt(s)*4,this.mass=s,this.vel=c.random2D(),this.vel.setMag(Math.random()*.01+.01),this.acc=new c(0,0)}edges(){this.pos.y>=u.height-this.r&&(this.pos.y=u.height-this.r,this.vel.y*=-1),this.pos.x<=0+this.r&&(this.pos.x=this.r,this.vel.x*=-1),this.pos.x>=u.width-this.r&&(this.pos.x=u.width-this.r,this.vel.x*=-1)}contact(){return u.height-(this.pos.y+this.r)<1}friction(){if(this.contact()){let t=c.normalize(this.vel);t.mult(-1);let e=.01,s=this.mass;t.setMag(e*s),this.applyForce(t)}}drag(){let t=c.normalize(this.vel);t.mult(-1);let e=2,s=this.vel.mag();t.setMag(e*s*s),this.applyForce(t)}detract(t){let e=c.sub(this.pos,t.pos);if(e.mag()>40)return;console.log(e.mag()),e.mult(-1);let s=e.mag(),n=s*s,l=.7*(this.mass*t.mass)/n;e.setMag(l),t.applyForce(e)}attract(t){let e=c.sub(this.pos,t.pos),s=e.mag(),n=s*s,l=.1*(this.mass*t.mass)/n;e.setMag(l),t.applyForce(e)}applyForce(t){let e=c.div(t,this.mass);this.acc.add(e),this.dir=this.acc.heading()}update(){this.vel.add(this.acc),this.pos.add(this.vel),this.acc.set(0,0)}draw(){o.translate(this.pos.x,this.pos.y);let t=new c(-this.r,-this.r),e=new c(this.r,-this.r),s=new c(0,this.r*2),n=this.vel.heading();t.rotate(n),e.rotate(n),s.rotate(n),o.beginPath(),o.moveTo(t.x,t.y),o.lineTo(e.x,e.y),o.lineTo(s.x,s.y),o.lineTo(t.x,t.y),this.contact()?o.fillStyle="#f005":o.fillStyle="#000",o.fill(),o.closePath(),o.translate(-this.pos.x,-this.pos.y)}}var ne=R("<div>");let re=class{constructor(){this.run=!1,this.width=u.width,this.height=u.height,this.sun=new V(this.width/2,this.height/2,30),this.movers=[],this.angleI=0;let t=new c(this.width/2,this.height/2);for(let e=0;e<Math.PI*2;e+=1){let s=c.random2D();s.setMag(100),s.setHeading(e),s.add(t);let n=s.x,r=s.y;this.movers.push(new se(n,r,25))}this.moon=new V(200,200,100),console.log("before",this.moon),console.log(2*Math.PI),console.log("heading before",this.moon.pos.heading()),this.moon.pos.setHeading(0),console.log(this.moon.pos.heading())}update(){this.movers.forEach(t=>{this.sun.attract(t);for(let s of this.movers)t!==s&&t.detract(s);t.update();let e=Xt(this.angleI,0,2*Math.PI);this.moon.pos.setHeading(e),this.angleI+=1e-4})}draw(){o.reset(),this.background("#e00a"),this.movers.forEach(t=>{t.draw()}),this.sun.draw(),this.moon.draw()}background(t="#000"){o.fillStyle=t,o.beginPath(),o.fillRect(0,0,this.width,this.height),o.fill(),o.closePath()}animate(){this.update(),this.draw(),this.run&&requestAnimationFrame(()=>this.animate())}},G;function oe(){return B(()=>{G=new re,G.run=!0,G.animate()}),q(()=>{G.run=!1,G=""}),ne()}class le{constructor(t,e,s){this.pos=new c(t,e),this.vel=c.random2D(),this.vel.setMag(5)}update(){this.pos.add(this.vel)}draw(){let t=new c(0,20);t.setHeading(0),t.setHeading(this.vel.heading()),o.strokeStyle="yellow",o.lineWidth=7,o.moveTo(this.pos.x,this.pos.y),o.lineTo(this.pos.x+t.x,this.pos.y+t.y),o.stroke()}}var ae=R("<div>");let he=class{constructor(){this.run=!1,this.width=u.width,this.height=u.height,this.caprot=new le(200,300),this.max=0,this.angleMax=0,this.spiralR=190}update(){this.caprot.update(),c.sub(v,this.caprot.pos).mag()>500&&(this.caprot.pos.set(v.x,v.y),this.caprot.vel=c.random2D(),this.caprot.vel.setMag(4))}draw(){this.background("#00000005"),this.caprot.draw(),o.strokeStyle="magenta",o.lineWidth=4,o.beginPath(),o.arc(v.x,v.y,100,0,2*Math.PI,!0),o.stroke(),o.closePath(),this.dotsOnCircle(),this.angleMax+=.09,this.spiralR-=.19,this.spiralR<=100&&(this.spiralR=190);let t=new c(200,0),e=Math.cos(this.angleMax)*this.spiralR,s=Math.sin(this.angleMax)*this.spiralR;this.dot(v.x+e,v.y+s),o.beginPath(),o.strokeStyle="lightgreen",o.lineWidth=1,t.setHeading(0),o.moveTo(v.x+t.x,v.y+t.y);for(let n=0;n<2*Math.PI;n+=.001)t.setHeading(n),o.lineTo(v.x+t.x,v.y+t.y);o.closePath(),o.stroke()}dotsOnCircle(){this.max<Math.PI*2&&(this.max+=.1),this.max>=Math.PI*2&&(this.max=0);let t=new c(100,0);for(let e=0;e<this.max;e+=2*Math.PI/12)t.setHeading(e),this.dot(v.x+t.x,v.y+t.y)}dot(t,e){o.fillStyle="yellow",o.beginPath(),o.arc(t,e,4,0,Math.PI*2,!0),o.fill(),o.closePath()}background(t="#000"){o.fillStyle=t,o.beginPath(),o.fillRect(0,0,this.width,this.height),o.fill(),o.closePath()}animate(){this.update(),this.draw(),this.run&&requestAnimationFrame(()=>this.animate())}},H;function ce(){return B(()=>{H=new he,H.run=!0,H.animate()}),q(()=>{H.run=!1,H=""}),ae()}class ue{constructor(t,e,s){this.amplitude=t,this.period=e,this.phase=s}calculate(t){return Math.sin(this.phase+2*Math.PI*t/this.period)*this.amplitude}calculateAudio(t){return Math.sin(2*Math.PI*t/this.period)}}var fe=R("<div>");class de{constructor(){this.run=!1,this.width=u.width,this.height=u.height,this.waves=[],this.makeRandomWaves(),this.lockMouse=!1}makeRandomWaves(){this.waves=[];for(let t=0;t<2;t++)this.waves.push(new ue(Y(this.height/28,this.height/15),Y(this.width/8,this.width),Y(0,2*Math.PI)))}async playSound(){const t=new(window.AudioContext||window.webkitAudioContext),e=t.createBuffer(2,t.sampleRate*3,t.sampleRate);for(let n=0;n<e.numberOfChannels;n++){console.log(e.length);const r=e.getChannelData(n);for(let l=0;l<e.length;l++){let a=l,d=0;this.waves.forEach(f=>{d+=f.calculateAudio(a)}),r[l]=d}}const s=t.createBufferSource();s.buffer=e,s.connect(t.destination),s.start()}update(){W&&this.lockMouse===!1&&(this.makeRandomWaves(),this.playSound(),this.lockMouse=!0,setTimeout(()=>this.lockMouse=!1,300))}draw(){Ut("#00000022");for(let t=0;t<this.width;t+=.5){let e=0;this.waves.forEach(s=>{e+=s.calculate(t)}),Jt(t,v.y+e,3,"magenta")}this.waves.forEach(t=>t.phase+=.1)}animate(){this.update(),this.draw(),this.run&&requestAnimationFrame(()=>this.animate())}}let O;function ge(){return B(()=>{O=new de,O.run=!0,O.animate(),O.playSound()}),q(()=>{O.run=!1,O=""}),fe()}var pe=R("<div id=menu>"),we=R("<div id=pile><canvas id=playground></canvas><button id=menu-button>next"),me=R("<dialog><h4>Like to get Notified?</h4><button>activate notifications"),ye=R("<button>");let at;function ve(){jt("/demo-game/serviceworker.js")}const xe=async()=>Notification.permission==="granted",be=async()=>{if(await Notification.requestPermission()!=="granted")throw new Error("Notification permission not granted")};function Me(i){window.localStorage.setItem("pageList",JSON.stringify(i))}function Se(){let i=window.localStorage.getItem("pageList");return i?JSON.parse(i):null}function Ae(){const[i,t]=_(!1),[e,s]=_(!1),[n,r]=_({Beginners:!1,"Mutual Attraction":!1,AngleAndRadians:!1,Drawing:!1,"Harmonic Motion":!1}),[l,a]=_(!1);B(async()=>{ve(),await xe()||t(!0),zt(),Kt(at),a(!0);let h=Se();h&&r({...n(),...h})});function d(f){const h=n();for(let m in h)h[m]=!1;h[f]=!0,r({...h}),s(!1),Me(n())}return[b(T,{get when(){return k(()=>n().Beginners===!0)()&&l()},get children(){return b(Zt,{})}}),b(T,{get when(){return k(()=>n()["Mutual Attraction"]===!0)()&&l()},get children(){return b(ie,{})}}),b(T,{get when(){return k(()=>n().AngleAndRadians===!0)()&&l()},get children(){return b(oe,{})}}),b(T,{get when(){return k(()=>n().Drawing===!0)()&&l()},get children(){return b(ce,{})}}),b(T,{get when(){return k(()=>n()["Harmonic Motion"]===!0)()&&l()},get children(){return b(ge,{})}}),(()=>{var f=we(),h=f.firstChild,m=h.nextSibling,g=at;return typeof g=="function"?Gt(g,h):at=h,m.$$click=()=>s(!e()),Q(f,b(T,{get when(){return e()},get children(){var x=pe();return Q(x,b(Wt,{get each(){return Object.keys(n())},children:M=>(()=>{var P=ye();return P.$$click=()=>d(M),Q(P,M),P})()})),x}}),null),f})(),(()=>{var f=me(),h=f.firstChild,m=h.nextSibling;return m.$$click=()=>{be(),t(!1)},et(()=>f.open=i()),f})()]}Dt(["click"]);const Pe=document.getElementById("root");qt(()=>b(Ae,{}),Pe);
