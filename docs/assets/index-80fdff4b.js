(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function i(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerPolicy&&(r.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?r.credentials="include":n.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(n){if(n.ep)return;n.ep=!0;const r=i(n);fetch(n.href,r)}})();const Rt=(e,t)=>e===t,It=Symbol("solid-track"),it={equals:Rt};let vt=St;const F=1,st=2,xt={owned:null,cleanups:null,context:null,owner:null};var w=null;let ct=null,Ft=null,p=null,v=null,C=null,at=0;function Z(e,t){const i=p,s=w,n=e.length===0,r=t===void 0?s:t,a=n?xt:{owned:null,cleanups:null,context:r?r.context:null,owner:r},l=n?e:()=>e(()=>k(()=>ht(a)));w=a,p=null;try{return K(l,!0)}finally{p=i,w=s}}function X(e,t){t=t?Object.assign({},it,t):it;const i={value:e,observers:null,observerSlots:null,comparator:t.equals||void 0},s=n=>(typeof n=="function"&&(n=n(i.value)),Mt(i,n));return[bt.bind(i),s]}function nt(e,t,i){const s=gt(e,t,!1,F);U(s)}function Lt(e,t,i){vt=Ot;const s=gt(e,t,!1,F);(!i||!i.render)&&(s.user=!0),C?C.push(s):U(s)}function E(e,t,i){i=i?Object.assign({},it,i):it;const s=gt(e,t,!0,0);return s.observers=null,s.observerSlots=null,s.comparator=i.equals||void 0,U(s),bt.bind(s)}function k(e){if(p===null)return e();const t=p;p=null;try{return e()}finally{p=t}}function O(e){Lt(()=>k(e))}function W(e){return w===null||(w.cleanups===null?w.cleanups=[e]:w.cleanups.push(e)),e}function bt(){if(this.sources&&this.state)if(this.state===F)U(this);else{const e=v;v=null,K(()=>ot(this),!1),v=e}if(p){const e=this.observers?this.observers.length:0;p.sources?(p.sources.push(this),p.sourceSlots.push(e)):(p.sources=[this],p.sourceSlots=[e]),this.observers?(this.observers.push(p),this.observerSlots.push(p.sources.length-1)):(this.observers=[p],this.observerSlots=[p.sources.length-1])}return this.value}function Mt(e,t,i){let s=e.value;return(!e.comparator||!e.comparator(s,t))&&(e.value=t,e.observers&&e.observers.length&&K(()=>{for(let n=0;n<e.observers.length;n+=1){const r=e.observers[n],a=ct&&ct.running;a&&ct.disposed.has(r),(a?!r.tState:!r.state)&&(r.pure?v.push(r):C.push(r),r.observers&&At(r)),a||(r.state=F)}if(v.length>1e6)throw v=[],new Error},!1)),t}function U(e){if(!e.fn)return;ht(e);const t=at;Tt(e,e.value,t)}function Tt(e,t,i){let s;const n=w,r=p;p=w=e;try{s=e.fn(t)}catch(a){return e.pure&&(e.state=F,e.owned&&e.owned.forEach(ht),e.owned=null),e.updatedAt=i+1,Pt(a)}finally{p=r,w=n}(!e.updatedAt||e.updatedAt<=i)&&(e.updatedAt!=null&&"observers"in e?Mt(e,s):e.value=s,e.updatedAt=i)}function gt(e,t,i,s=F,n){const r={fn:e,state:s,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:w,context:w?w.context:null,pure:i};return w===null||w!==xt&&(w.owned?w.owned.push(r):w.owned=[r]),r}function rt(e){if(e.state===0)return;if(e.state===st)return ot(e);if(e.suspense&&k(e.suspense.inFallback))return e.suspense.effects.push(e);const t=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<at);)e.state&&t.push(e);for(let i=t.length-1;i>=0;i--)if(e=t[i],e.state===F)U(e);else if(e.state===st){const s=v;v=null,K(()=>ot(e,t[0]),!1),v=s}}function K(e,t){if(v)return e();let i=!1;t||(v=[]),C?i=!0:C=[],at++;try{const s=e();return Nt(i),s}catch(s){i||(C=null),v=null,Pt(s)}}function Nt(e){if(v&&(St(v),v=null),e)return;const t=C;C=null,t.length&&K(()=>vt(t),!1)}function St(e){for(let t=0;t<e.length;t++)rt(e[t])}function Ot(e){let t,i=0;for(t=0;t<e.length;t++){const s=e[t];s.user?e[i++]=s:rt(s)}for(t=0;t<i;t++)rt(e[t])}function ot(e,t){e.state=0;for(let i=0;i<e.sources.length;i+=1){const s=e.sources[i];if(s.sources){const n=s.state;n===F?s!==t&&(!s.updatedAt||s.updatedAt<at)&&rt(s):n===st&&ot(s,t)}}}function At(e){for(let t=0;t<e.observers.length;t+=1){const i=e.observers[t];i.state||(i.state=st,i.pure?v.push(i):C.push(i),i.observers&&At(i))}}function ht(e){let t;if(e.sources)for(;e.sources.length;){const i=e.sources.pop(),s=e.sourceSlots.pop(),n=i.observers;if(n&&n.length){const r=n.pop(),a=i.observerSlots.pop();s<n.length&&(r.sourceSlots[a]=s,n[s]=r,i.observerSlots[s]=a)}}if(e.owned){for(t=e.owned.length-1;t>=0;t--)ht(e.owned[t]);e.owned=null}if(e.cleanups){for(t=e.cleanups.length-1;t>=0;t--)e.cleanups[t]();e.cleanups=null}e.state=0}function Wt(e){return e instanceof Error?e:new Error(typeof e=="string"?e:"Unknown error",{cause:e})}function Pt(e,t=w){throw Wt(e)}const qt=Symbol("fallback");function pt(e){for(let t=0;t<e.length;t++)e[t]()}function Bt(e,t,i={}){let s=[],n=[],r=[],a=0,l=t.length>1?[]:null;return W(()=>pt(r)),()=>{let d=e()||[],f,h;return d[It],k(()=>{let g=d.length,b,M,P,J,Q,S,A,$,q;if(g===0)a!==0&&(pt(r),r=[],s=[],n=[],a=0,l&&(l=[])),i.fallback&&(s=[qt],n[0]=Z(kt=>(r[0]=kt,i.fallback())),a=1);else if(a===0){for(n=new Array(g),h=0;h<g;h++)s[h]=d[h],n[h]=Z(y);a=g}else{for(P=new Array(g),J=new Array(g),l&&(Q=new Array(g)),S=0,A=Math.min(a,g);S<A&&s[S]===d[S];S++);for(A=a-1,$=g-1;A>=S&&$>=S&&s[A]===d[$];A--,$--)P[$]=n[A],J[$]=r[A],l&&(Q[$]=l[A]);for(b=new Map,M=new Array($+1),h=$;h>=S;h--)q=d[h],f=b.get(q),M[h]=f===void 0?-1:f,b.set(q,h);for(f=S;f<=A;f++)q=s[f],h=b.get(q),h!==void 0&&h!==-1?(P[h]=n[f],J[h]=r[f],l&&(Q[h]=l[f]),h=M[h],b.set(q,h)):r[f]();for(h=S;h<g;h++)h in P?(n[h]=P[h],r[h]=J[h],l&&(l[h]=Q[h],l[h](h))):n[h]=Z(y);n=n.slice(0,a=g),s=d.slice(0)}return n});function y(g){if(r[h]=g,l){const[b,M]=X(h);return l[h]=M,t(d[h],b)}return t(d[h])}}}function x(e,t){return k(()=>e(t||{}))}const Dt=e=>`Stale read from <${e}>.`;function Gt(e){const t="fallback"in e&&{fallback:()=>e.fallback};return E(Bt(()=>e.each,e.children,t||void 0))}function L(e){const t=e.keyed,i=E(()=>e.when,void 0,{equals:(s,n)=>t?s===n:!s==!n});return E(()=>{const s=i();if(s){const n=e.children;return typeof n=="function"&&n.length>0?k(()=>n(t?s:()=>{if(!k(i))throw Dt("Show");return e.when})):n}return e.fallback},void 0,void 0)}function Ht(e,t,i){let s=i.length,n=t.length,r=s,a=0,l=0,d=t[n-1].nextSibling,f=null;for(;a<n||l<r;){if(t[a]===i[l]){a++,l++;continue}for(;t[n-1]===i[r-1];)n--,r--;if(n===a){const h=r<s?l?i[l-1].nextSibling:i[r-l]:d;for(;l<r;)e.insertBefore(i[l++],h)}else if(r===l)for(;a<n;)(!f||!f.has(t[a]))&&t[a].remove(),a++;else if(t[a]===i[r-1]&&i[l]===t[n-1]){const h=t[--n].nextSibling;e.insertBefore(i[l++],t[a++].nextSibling),e.insertBefore(i[--r],h),t[n]=i[r]}else{if(!f){f=new Map;let y=l;for(;y<r;)f.set(i[y],y++)}const h=f.get(t[a]);if(h!=null)if(l<h&&h<r){let y=a,g=1,b;for(;++y<n&&y<r&&!((b=f.get(t[y]))==null||b!==h+g);)g++;if(g>h-l){const M=t[a];for(;l<h;)e.insertBefore(i[l++],M)}else e.replaceChild(i[l++],t[a++])}else a++;else t[a++].remove()}}}const mt="_$DX_DELEGATE";function _t(e,t,i,s={}){let n;return Z(r=>{n=r,t===document?e():tt(t,e(),t.firstChild?null:void 0,i)},s.owner),()=>{n(),t.textContent=""}}function R(e,t,i){let s;const n=()=>{const a=document.createElement("template");return a.innerHTML=e,i?a.content.firstChild.firstChild:a.content.firstChild},r=t?()=>k(()=>document.importNode(s||(s=n()),!0)):()=>(s||(s=n())).cloneNode(!0);return r.cloneNode=r,r}function jt(e,t=window.document){const i=t[mt]||(t[mt]=new Set);for(let s=0,n=e.length;s<n;s++){const r=e[s];i.has(r)||(i.add(r),t.addEventListener(r,Xt))}}function Vt(e,t,i){return k(()=>e(t,i))}function tt(e,t,i,s){if(i!==void 0&&!s&&(s=[]),typeof t!="function")return lt(e,t,s,i);nt(n=>lt(e,t(),n,i),s)}function Xt(e){const t=`$$${e.type}`;let i=e.composedPath&&e.composedPath()[0]||e.target;for(e.target!==i&&Object.defineProperty(e,"target",{configurable:!0,value:i}),Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return i||document}});i;){const s=i[t];if(s&&!i.disabled){const n=i[`${t}Data`];if(n!==void 0?s.call(i,n,e):s.call(i,e),e.cancelBubble)return}i=i._$host||i.parentNode||i.host}}function lt(e,t,i,s,n){for(;typeof i=="function";)i=i();if(t===i)return i;const r=typeof t,a=s!==void 0;if(e=a&&i[0]&&i[0].parentNode||e,r==="string"||r==="number")if(r==="number"&&(t=t.toString()),a){let l=i[0];l&&l.nodeType===3?l.data!==t&&(l.data=t):l=document.createTextNode(t),i=B(e,i,s,l)}else i!==""&&typeof i=="string"?i=e.firstChild.data=t:i=e.textContent=t;else if(t==null||r==="boolean")i=B(e,i,s);else{if(r==="function")return nt(()=>{let l=t();for(;typeof l=="function";)l=l();i=lt(e,l,i,s)}),()=>i;if(Array.isArray(t)){const l=[],d=i&&Array.isArray(i);if(ft(l,t,i,n))return nt(()=>i=lt(e,l,i,s,!0)),()=>i;if(l.length===0){if(i=B(e,i,s),a)return i}else d?i.length===0?wt(e,l,s):Ht(e,i,l):(i&&B(e),wt(e,l));i=l}else if(t.nodeType){if(Array.isArray(i)){if(a)return i=B(e,i,s,t);B(e,i,null,t)}else i==null||i===""||!e.firstChild?e.appendChild(t):e.replaceChild(t,e.firstChild);i=t}}return i}function ft(e,t,i,s){let n=!1;for(let r=0,a=t.length;r<a;r++){let l=t[r],d=i&&i[e.length],f;if(!(l==null||l===!0||l===!1))if((f=typeof l)=="object"&&l.nodeType)e.push(l);else if(Array.isArray(l))n=ft(e,l,d)||n;else if(f==="function")if(s){for(;typeof l=="function";)l=l();n=ft(e,Array.isArray(l)?l:[l],Array.isArray(d)?d:[d])||n}else e.push(l),n=!0;else{const h=String(l);d&&d.nodeType===3&&d.data===h?e.push(d):e.push(document.createTextNode(h))}}return n}function wt(e,t,i=null){for(let s=0,n=t.length;s<n;s++)e.insertBefore(t[s],i)}function B(e,t,i,s){if(i===void 0)return e.textContent="";const n=s||document.createTextNode("");if(t.length){let r=!1;for(let a=t.length-1;a>=0;a--){const l=t[a];if(n!==l){const d=l.parentNode===e;!r&&!a?d?e.replaceChild(n,l):e.insertBefore(n,i):d&&l.remove()}else r=!0}}else e.insertBefore(n,i);return[n]}var zt=function(){return!!(window.location.hostname==="localhost"||window.location.hostname==="[::1]"||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/))},dt;typeof window<"u"&&(typeof Promise<"u"?dt=new Promise(function(e){return window.addEventListener("load",e)}):dt={then:function(e){return window.addEventListener("load",e)}});function Yt(e,t){t===void 0&&(t={});var i=t.registrationOptions;i===void 0&&(i={}),delete t.registrationOptions;var s=function(n){for(var r=[],a=arguments.length-1;a-- >0;)r[a]=arguments[a+1];t&&t[n]&&t[n].apply(t,r)};"serviceWorker"in navigator&&dt.then(function(){zt()?(Ut(e,s,i),navigator.serviceWorker.ready.then(function(n){s("ready",n)}).catch(function(n){return z(s,n)})):($t(e,s,i),navigator.serviceWorker.ready.then(function(n){s("ready",n)}).catch(function(n){return z(s,n)}))})}function z(e,t){navigator.onLine||e("offline"),e("error",t)}function $t(e,t,i){navigator.serviceWorker.register(e,i).then(function(s){if(t("registered",s),s.waiting){t("updated",s);return}s.onupdatefound=function(){t("updatefound",s);var n=s.installing;n.onstatechange=function(){n.state==="installed"&&(navigator.serviceWorker.controller?t("updated",s):t("cached",s))}}}).catch(function(s){return z(t,s)})}function Ut(e,t,i){fetch(e).then(function(s){s.status===404?(t("error",new Error("Service worker not found at "+e)),yt()):s.headers.get("content-type").indexOf("javascript")===-1?(t("error",new Error("Expected "+e+" to have javascript content-type, but received "+s.headers.get("content-type"))),yt()):$t(e,t,i)}).catch(function(s){return z(t,s)})}function yt(){"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()}).catch(function(e){return z(emit,e)})}let I=0,T=0,N=!1;function Kt(){console.log("mouse registered"),window.onmousemove=e=>{I=e.clientX,T=e.clientY},window.onpointermove=e=>{I=e.clientX,T=e.clientY,console.log("move")},window.onmousedown=e=>{N=!0,I=e.clientX,T=e.clientY},window.onmouseup=e=>{N=!1,I=e.clientX,T=e.clientY},window.onpointerdown=e=>{N=!0,I=e.clientX,T=e.clientY},window.onpointerup=e=>{N=!1,I=e.clientX,T=e.clientY}}class c{constructor(t,i){this.x=t,this.y=i}static random2D(){const t=new c(Math.random()*200-100,Math.random()*200-100);return t.normalize(),t}static add(t,i){const s=new c(t.x,t.y);return s.add(i),s}static sub(t,i){const s=new c(t.x,t.y);return s.sub(i),s}static mult(t,i){const s=new c(t.x,t.y);return s.mult(i),s}static div(t,i){let s=new c(t.x,t.y);return s.div(i),s}static normalize(t){let i=new c(t.x,t.y);return i.normalize(),i}set(t,i){this.x=t,this.y=i}clone(){return new c(this.x,this.y)}add(t){this.x+=t.x,this.y+=t.y}sub(t){this.x-=t.x,this.y-=t.y}mult(t){this.x*=t,this.y*=t}div(t){this.x/=t,this.y/=t}mag(){return Math.sqrt(Math.pow(this.x,2)+Math.pow(this.y,2))}setMag(t){this.normalize(),this.mult(t)}limit(t){this.mag()>t&&this.setMag(t)}normalize(){let t=this.mag();t!==0&&this.mult(1/t)}setHeading(t){let i=this.mag();this.x=Math.sin(t)*i,this.y=Math.cos(t)*i}heading(){return Math.atan2(this.x,this.y)}rotate(t){let i=this.heading()+t;this.setHeading(i)}}let u=null,o=null,m;function Jt(e){u=e,u.width=window.innerWidth,u.height=window.innerHeight,o=u.getContext("2d"),m=new c(u.width/2,u.height/2),console.log("canvas registered...")}function Et(e="#000"){o.fillStyle=e,o.beginPath(),o.fillRect(0,0,u.width,u.height),o.fill(),o.closePath()}function Qt(e,t,i,s="magenta"){o.beginPath(),o.fillStyle=s,o.arc(e,t,i,0,2*Math.PI,!0),o.fill()}function Zt(e,t,i){const n=(t-e)/i;console.log(n);const r=[];let a=0;for(let l=0;l<i;l++)r.push(a),a+=n;return r}function Ct(e,t,i){return e>=i&&(e=i),e<=t&&(e=t),e}function et(e,t=0){return t===0?Math.random()*e:e+Math.random()*t}function te(e,t,i){return(i-t)*e+t}class Y{constructor(t,i,s){this.pos=new c(t,i),this.r=Math.sqrt(s)*1.2,this.mass=s,this.vel=c.random2D(),this.vel.setMag(Math.random()*.01+.01),this.acc=new c(0,0)}edges(){this.pos.y>=u.height-this.r&&(this.pos.y=u.height-this.r,this.vel.y*=-1),this.pos.x<=0+this.r&&(this.pos.x=this.r,this.vel.x*=-1),this.pos.x>=u.width-this.r&&(this.pos.x=u.width-this.r,this.vel.x*=-1)}contact(){return u.height-(this.pos.y+this.r)<1}friction(){if(this.contact()){let t=c.normalize(this.vel);t.mult(-1);let i=.01,s=this.mass;t.setMag(i*s),this.applyForce(t)}}drag(){let t=c.normalize(this.vel);t.mult(-1);let i=2,s=this.vel.mag();t.setMag(i*s*s),this.applyForce(t)}attract(t){let i=c.sub(this.pos,t.pos),s=i.mag(),n=s*s;n=Ct(n,100,1e3);let a=1*(this.mass*t.mass)/n;i.setMag(a),t.applyForce(i)}applyForce(t){let i=c.div(t,this.mass);this.acc.add(i)}update(){this.vel.add(this.acc),this.pos.add(this.vel),this.acc.set(0,0)}draw(){o.beginPath(),o.arc(this.pos.x,this.pos.y,this.r,0,2*Math.PI,!0),this.contact()?o.fillStyle="#f005":o.fillStyle="#0f05",o.fill(),o.closePath()}}class ee{constructor(t,i,s){this.pos=new c(t,i),this.color="#0aa5",this.r=Math.sqrt(s)*10,this.mass=s,this.vel=new c(0,0),this.acc=new c(0,0)}edges(){this.pos.y>=u.height-this.r&&(this.pos.y=u.height-this.r,this.vel.y*=-1),this.pos.x<=0+this.r&&(this.pos.x=this.r,this.vel.y*=-1),this.pos.x>=u.width-this.r&&(this.pos.x=u.width-this.r,this.vel.x*=-1)}contact(){return u.height-(this.pos.y+this.r)<1}friction(){if(this.contact()){let t=c.normalize(this.vel);t.mult(-1);let i=.01,s=this.mass;t.setMag(i*s),this.applyForce(t)}}drag(){let t=c.normalize(this.vel);t.mult(-1);let i=.01,s=this.vel.mag();t.setMag(i*s*s),this.applyForce(t)}applyForce(t){let i=c.div(t,this.mass);this.acc.add(i)}attract(t){let i=c.sub(this.pos,t.pos),s=i.mag(),n=s*s;n=Ct(n,100,400);let a=5*(this.mass*t.mass)/n;i.setMag(a),t.applyForce(i)}update(){this.vel.add(this.acc),this.vel.limit(25),this.pos.add(this.vel)}draw(){o.beginPath(),o.arc(this.pos.x,this.pos.y,this.r,0,2*Math.PI,!0),this.contact()?o.fillStyle="#f005":o.fillStyle=this.color,o.fill(),o.closePath()}}let ie=class{constructor(){this.run=!1,this.width=u.width,this.height=u.height,this.players=[],this.attractor=new ee(u.width/2,u.height/3.5,18),this.actor=new Y(u.width*.3,u.height*.3,3);for(let t=0;t<20;t++)this.players.push(new Y(Math.random()*u.width,40,12+Math.random()*15))}update(){let t=new c(0,.09),i=new c(.09,0);this.actor.update(),this.attractor.attract(this.actor),this.players.forEach((s,n)=>{s.applyForce(c.mult(t,s.mass)),N&&(console.log("wind"),s.applyForce(i)),s.pos.y>u.height*.55&&s.drag(),s.update(),s.edges(),n>10&&this.attractor.attract(s)})}draw(){o.fillStyle="#00000004",o.beginPath(),o.fillRect(0,0,this.width,this.height),o.fill(),o.closePath(),o.fillStyle="#00a1",o.beginPath(),o.fillRect(0,this.height*.55,this.width,this.height),o.fill(),o.closePath(),this.attractor.draw(),this.actor.draw(),this.players.forEach(t=>{t.draw()})}animate(){this.update(),this.draw(),this.run&&requestAnimationFrame(()=>this.animate())}},D;function se(){return O(()=>{D=new ie,D.run=!0,D.animate()}),W(()=>{D.run=!1,D.animate=()=>{},D=""}),[]}class ne{constructor(){this.run=!1,this.width=u.width,this.height=u.height,this.movers=[];let t=new c(this.width/2,this.height/2);for(let i=0;i<300;i++){let s=c.random2D();s.setMag(100+et(50)),s.add(t);let n=s.x,r=s.y;this.movers.push(new Y(n,r,5))}}update(){this.movers.forEach(t=>{for(let i of this.movers)t!==i&&t.attract(i);t.update()})}draw(){this.background("#066a"),this.movers.forEach(t=>{t.draw()})}background(t="#000"){o.fillStyle=t,o.beginPath(),o.fillRect(0,0,this.width,this.height),o.fill(),o.closePath()}animate(){this.update(),this.draw(),this.run&&requestAnimationFrame(()=>this.animate())}}var re=R("<div>");let G;function oe(){return O(()=>{G=new ne,G.run=!0,G.animate()}),W(()=>{G.run=!1,G=""}),re()}class le{constructor(t,i,s){this.pos=new c(t,i),this.r=Math.sqrt(s)*4,this.mass=s,this.vel=c.random2D(),this.vel.setMag(Math.random()*.01+.01),this.acc=new c(0,0)}edges(){this.pos.y>=u.height-this.r&&(this.pos.y=u.height-this.r,this.vel.y*=-1),this.pos.x<=0+this.r&&(this.pos.x=this.r,this.vel.x*=-1),this.pos.x>=u.width-this.r&&(this.pos.x=u.width-this.r,this.vel.x*=-1)}contact(){return u.height-(this.pos.y+this.r)<1}friction(){if(this.contact()){let t=c.normalize(this.vel);t.mult(-1);let i=.01,s=this.mass;t.setMag(i*s),this.applyForce(t)}}drag(){let t=c.normalize(this.vel);t.mult(-1);let i=2,s=this.vel.mag();t.setMag(i*s*s),this.applyForce(t)}detract(t){let i=c.sub(this.pos,t.pos);if(i.mag()>40)return;console.log(i.mag()),i.mult(-1);let s=i.mag(),n=s*s,a=.7*(this.mass*t.mass)/n;i.setMag(a),t.applyForce(i)}attract(t){let i=c.sub(this.pos,t.pos),s=i.mag(),n=s*s,a=.1*(this.mass*t.mass)/n;i.setMag(a),t.applyForce(i)}applyForce(t){let i=c.div(t,this.mass);this.acc.add(i),this.dir=this.acc.heading()}update(){this.vel.add(this.acc),this.pos.add(this.vel),this.acc.set(0,0)}draw(){o.translate(this.pos.x,this.pos.y);let t=new c(-this.r,-this.r),i=new c(this.r,-this.r),s=new c(0,this.r*2),n=this.vel.heading();t.rotate(n),i.rotate(n),s.rotate(n),o.beginPath(),o.moveTo(t.x,t.y),o.lineTo(i.x,i.y),o.lineTo(s.x,s.y),o.lineTo(t.x,t.y),this.contact()?o.fillStyle="#f005":o.fillStyle="#000",o.fill(),o.closePath(),o.translate(-this.pos.x,-this.pos.y)}}var ae=R("<div>");let he=class{constructor(){this.run=!1,this.width=u.width,this.height=u.height,this.sun=new Y(this.width/2,this.height/2,30),this.movers=[],this.angleI=0;let t=new c(this.width/2,this.height/2);for(let i=0;i<Math.PI*2;i+=1){let s=c.random2D();s.setMag(100),s.setHeading(i),s.add(t);let n=s.x,r=s.y;this.movers.push(new le(n,r,25))}this.moon=new Y(200,200,100),console.log("before",this.moon),console.log(2*Math.PI),console.log("heading before",this.moon.pos.heading()),this.moon.pos.setHeading(0),console.log(this.moon.pos.heading())}update(){this.movers.forEach(t=>{this.sun.attract(t);for(let s of this.movers)t!==s&&t.detract(s);t.update();let i=te(this.angleI,0,2*Math.PI);this.moon.pos.setHeading(i),this.angleI+=1e-4})}draw(){o.reset(),this.background("#e00a"),this.movers.forEach(t=>{t.draw()}),this.sun.draw(),this.moon.draw()}background(t="#000"){o.fillStyle=t,o.beginPath(),o.fillRect(0,0,this.width,this.height),o.fill(),o.closePath()}animate(){this.update(),this.draw(),this.run&&requestAnimationFrame(()=>this.animate())}},H;function ce(){return O(()=>{H=new he,H.run=!0,H.animate()}),W(()=>{H.run=!1,H=""}),ae()}class ue{constructor(t,i,s){this.pos=new c(t,i),this.vel=c.random2D(),this.vel.setMag(5)}update(){this.pos.add(this.vel)}draw(){let t=new c(0,20);t.setHeading(0),t.setHeading(this.vel.heading()),o.strokeStyle="yellow",o.lineWidth=7,o.moveTo(this.pos.x,this.pos.y),o.lineTo(this.pos.x+t.x,this.pos.y+t.y),o.stroke()}}var fe=R("<div>");let de=class{constructor(){this.run=!1,this.width=u.width,this.height=u.height,this.caprot=new ue(200,300),this.max=0,this.angleMax=0,this.spiralR=190}update(){this.caprot.update(),c.sub(m,this.caprot.pos).mag()>500&&(this.caprot.pos.set(m.x,m.y),this.caprot.vel=c.random2D(),this.caprot.vel.setMag(4))}draw(){this.background("#00000005"),this.caprot.draw(),o.strokeStyle="magenta",o.lineWidth=4,o.beginPath(),o.arc(m.x,m.y,100,0,2*Math.PI,!0),o.stroke(),o.closePath(),this.dotsOnCircle(),this.angleMax+=.09,this.spiralR-=.19,this.spiralR<=100&&(this.spiralR=190);let t=new c(200,0),i=Math.cos(this.angleMax)*this.spiralR,s=Math.sin(this.angleMax)*this.spiralR;this.dot(m.x+i,m.y+s),o.beginPath(),o.strokeStyle="lightgreen",o.lineWidth=1,t.setHeading(0),o.moveTo(m.x+t.x,m.y+t.y);for(let n=0;n<2*Math.PI;n+=.001)t.setHeading(n),o.lineTo(m.x+t.x,m.y+t.y);o.closePath(),o.stroke()}dotsOnCircle(){this.max<Math.PI*2&&(this.max+=.1),this.max>=Math.PI*2&&(this.max=0);let t=new c(100,0);for(let i=0;i<this.max;i+=2*Math.PI/12)t.setHeading(i),this.dot(m.x+t.x,m.y+t.y)}dot(t,i){o.fillStyle="yellow",o.beginPath(),o.arc(t,i,4,0,Math.PI*2,!0),o.fill(),o.closePath()}background(t="#000"){o.fillStyle=t,o.beginPath(),o.fillRect(0,0,this.width,this.height),o.fill(),o.closePath()}animate(){this.update(),this.draw(),this.run&&requestAnimationFrame(()=>this.animate())}},_;function ge(){return O(()=>{_=new de,_.run=!0,_.animate()}),W(()=>{_.run=!1,_=""}),fe()}class pe{constructor(t,i,s){this.amplitude=t,this.period=i,this.phase=s}calculate(t){return Math.sin(this.phase+2*Math.PI*t/this.period)*this.amplitude}calculateAudio(t){return Math.sin(2*Math.PI*t/this.period)}}var me=R("<div>");let we=class{constructor(){this.run=!1,this.width=u.width,this.height=u.height,this.audioCtx=null;var t={audio:!0};navigator.mediaDevices.getUserMedia(t).then(i=>{this.audioCtx=new(window.AudioContext||window.webkitAudioContext)}),this.waves=[],this.makeRandomWaves(),this.lockMouse=!1}makeRandomWaves(){this.waves=[];for(let t=0;t<7;t++)this.waves.push(new pe(et(this.height/28,this.height/15),et(this.width/8,this.width),et(0,2*Math.PI)))}async playSound(){const t=this.audioCtx.createBuffer(2,this.audioCtx.sampleRate*3,this.audioCtx.sampleRate);let i=this.getRamp(t.length),s=this.getRamp(t.length);s.reverse();for(let r=0;r<t.numberOfChannels;r++){console.log(t.length);const a=t.getChannelData(r);for(let l=0;l<t.length;l++){let d=l,f=0;this.waves.forEach(y=>{f+=y.calculateAudio(d),f*=.5}),l<i.length&&(f*=i[l]);let h=t.length*.5;l>h&&(f*=s[l-h]),a[l]=f}}this.audioCtx.resume();const n=this.audioCtx.createBufferSource();n.buffer=t,n.connect(this.audioCtx.destination),n.start()}getRamp(t){let i=t*.5,s=Zt(.4,1,i);return console.log(s),s}update(){N&&this.lockMouse===!1&&(this.makeRandomWaves(),this.playSound(),this.lockMouse=!0,setTimeout(()=>this.lockMouse=!1,300))}draw(){Et("#00000022");for(let t=0;t<this.width;t+=.5){let i=0;this.waves.forEach(s=>{i+=s.calculate(t)}),Qt(t,m.y+i,3,"magenta")}this.waves.forEach(t=>t.phase+=.1)}animate(){this.update(),this.draw(),this.run&&requestAnimationFrame(()=>this.animate())}},j;function ye(){return O(()=>{j=new we,j.run=!0,j.animate()}),W(()=>{j.run=!1,j=""}),me()}var ve=R("<div>");class xe{constructor(){this.run=!1,this.width=u.width,this.height=u.height,this.lockMouse=!1,this.restLength=100,this.k=.08,this.velocity=new c(0,0),this.gravity=new c(0,4),this.anchor=new c(m.x,m.y/3),this.bob=new c(m.x,m.y*.8)}update(){N&&this.lockMouse===!1&&(console.log("pressed",I),this.bob.x=I,this.bob.y=T,this.velocity.set(0,0));let t=c.sub(this.bob,this.anchor),i=t.mag()-this.restLength;t.normalize(),t.mult(-1*this.k*i),this.velocity.add(t),this.velocity.add(this.gravity),this.bob.add(this.velocity),this.velocity.mult(.94)}draw(){Et("#0a0"),o.fillStyle="#010",o.beginPath(),o.arc(this.anchor.x,this.anchor.y,25,0,Math.PI*2),o.arc(this.bob.x,this.bob.y,25,0,Math.PI*2),o.fill(),o.strokeStyle="#010",o.beginPath(),o.moveTo(this.anchor.x,this.anchor.y),o.lineTo(this.bob.x,this.bob.y),o.stroke()}animate(){this.update(),this.draw(),this.run&&requestAnimationFrame(()=>this.animate())}}let V;function be(){return O(()=>{V=new xe,V.run=!0,V.animate()}),W(()=>{V.run=!1,V=""}),ve()}var Me=R("<div id=menu>"),Se=R("<div id=pile><canvas id=playground></canvas><button id=menu-button>next"),Ae=R("<dialog><h4>Like to get Notified?</h4><button>activate notifications"),Pe=R("<button>");let ut;function $e(){Yt("/demo-game/serviceworker.js")}const Ee=async()=>Notification.permission==="granted",Ce=async()=>{if(await Notification.requestPermission()!=="granted")throw new Error("Notification permission not granted")};function ke(e){window.localStorage.setItem("pageList",JSON.stringify(e))}function Re(){let e=window.localStorage.getItem("pageList");return e?JSON.parse(e):null}function Ie(){const[e,t]=X(!1),[i,s]=X(!1),[n,r]=X({Beginners:!1,"Mutual Attraction":!1,AngleAndRadians:!1,Drawing:!1,"Harmonic Motion":!1,"Spring Forces":!1}),[a,l]=X(!1);O(async()=>{$e(),await Ee()||t(!0),Kt(),Jt(ut),l(!0);let h=Re();h&&r({...n(),...h})});function d(f){const h=n();for(let y in h)h[y]=!1;h[f]=!0,r({...h}),s(!1),ke(n())}return[x(L,{get when(){return E(()=>n().Beginners===!0)()&&a()},get children(){return x(se,{})}}),x(L,{get when(){return E(()=>n()["Mutual Attraction"]===!0)()&&a()},get children(){return x(oe,{})}}),x(L,{get when(){return E(()=>n().AngleAndRadians===!0)()&&a()},get children(){return x(ce,{})}}),x(L,{get when(){return E(()=>n().Drawing===!0)()&&a()},get children(){return x(ge,{})}}),x(L,{get when(){return E(()=>n()["Harmonic Motion"]===!0)()&&a()},get children(){return x(ye,{})}}),x(L,{get when(){return E(()=>n()["Spring Forces"]===!0)()&&a()},get children(){return x(be,{})}}),(()=>{var f=Se(),h=f.firstChild,y=h.nextSibling,g=ut;return typeof g=="function"?Vt(g,h):ut=h,y.$$click=()=>s(!i()),tt(f,x(L,{get when(){return i()},get children(){var b=Me();return tt(b,x(Gt,{get each(){return Object.keys(n())},children:M=>(()=>{var P=Pe();return P.$$click=()=>d(M),tt(P,M),P})()})),b}}),null),f})(),(()=>{var f=Ae(),h=f.firstChild,y=h.nextSibling;return y.$$click=()=>{Ce(),t(!1)},nt(()=>f.open=e()),f})()]}jt(["click"]);const Fe=document.getElementById("root");_t(()=>x(Ie,{}),Fe);
